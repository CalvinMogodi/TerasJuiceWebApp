<app-nav [heading]="heading" [headingIcon]="headingIcon"></app-nav>   
<div class="container page">
        <div class="actionBar" >
            <form class="row">
                    <div class="col-md-4">
                        <div class="input-group">
                            <label style="margin-bottom: 0px;">From Date</label>
                            <input class="underline" [(ngModel)]="model" placeholder="dd-mm-yyyy" name="fromDate" ngbDatepicker #fromDate="ngbDatepicker"
                                required="required">
                                <div class="input-group-append">
                                    <button class="calendar-btn" (click)="fromDate.toggle()" type="button">
                                        <img src="../assets/img/calendar-icon.jpg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
                                    </button>
                                </div>
                        </div>
                    </div>
                    <div class="col-md-4">
                        <div class="input-group">
                            <label style="margin-bottom: 0px;">To Date</label>
                            <input class="underline" [(ngModel)]="model1" placeholder="dd-mm-yyyy" name="dp" ngbDatepicker #toDate="ngbDatepicker"
                                required="required">
                                <div class="input-group-append">
                                    <button class="calendar-btn" (click)="toDate.toggle()" type="button">
                                        <img src="../assets/img/calendar-icon.jpg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
                                    </button>
                                </div>
                        </div>

                    </div>
                    <div class="col-md-4 text-center">
                        <button class="btn login-btn btn-primary" style="margin-top: 15px;" [disabled]="loading" (click)="filterOrders()" type="button" *ngIf="!loading">Search</button>
                        <button class="btn login-btn btn-primary" style="margin-top: 15px;" [disabled]="loading" (click)="filterOrders()" type="button" *ngIf="loading">               
                    Loading...   <div class="text-center" > <div class="loader" ></div>           </div>
                </button>
                    </div>
               
            </form>
        </div>
        <br><br>
        <div class="row" style="margin-right: -20% !important; margin-left: -5px !important;height: 300px">
            <div class="col-md-6">
                        <span class="pendingApprovel-barge">{{pendingPaymentOrders.length}}</span>
                        <span class="pendingApprovel-bargeHeader">Pending Approvel</span>
                        <table class="table table-striped table-scroll">
                            <thead>
                                <tr class="pendingApprovel-header">
                                    <th>Order #</th>
                                    <th>Cost/ Quantity</th>
                                    <th>Date</th>
                                    <th>Delivery Method</th>
                                    <th>Payment Method</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let order of pendingPaymentOrders' style="font-size: 12px;">
                                    <td></td>
                                    <td><b>{{order.cost | currency:'ZAR':true}} </b>&nbsp; ({{order.quantity}})</td>
                                    <td>{{order.createdDate}}</td>
                                    <td class="text-overflow">{{order.deliveryMethod}}</td>
                                    <td>{{order.paymentMethod}}</td>
                                </tr>
                                <tr *ngIf='pendingPaymentOrders.length == 0'>
                                    <td style="text-align: center;" *ngIf="!loading">No Pending Approvel Order(s)</td>     
                                       <td style="text-align: center;font-weight: bold;" *ngIf="loading">
                                        <div class="text-center">
                                        <div class="order-loader" ></div> 
                                        <span>Loading Order(s)...</span>
                                    </div>   
                                    </td>                                 
                                </tr>
                            </tbody>
                        </table>
                   
            </div>
            <div class="col-md-6">
                        <span class="awaitingApproval-barge">{{awaitingApprovalOrders.length}}</span>
                        <span class="awaitingApproval-bargeHeader">Awaiting Approval</span>
                        <table class="table table-striped table-scroll">
                            <thead>
                                <tr class="awaitingApproval-heading">
                                    <th>Order #</th>
                                    <th>Cost/ Quantity</th>
                                    <th>Date</th>
                                    <th>Delivery Method</th>
                                    <th>Payment Method</th>

                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let order of awaitingApprovalOrders' style="font-size: 12px;">
                                    <td></td>
                                    <td><b>{{order.cost | currency:'ZAR':true}} </b>&nbsp; ({{order.quantity}})</td>
                                    <td>{{order.createdDate}}</td>
                                    <td class="text-overflow">{{order.deliveryMethod}}</td>
                                    <td>{{order.paymentMethod}}</td>
                                </tr>
                                 <tr *ngIf='awaitingApprovalOrders.length == 0'>
                                    <td style="text-align: center" *ngIf="!loading">No Awaiting Approvel Order(s)</td>     
                                       <td style="text-align: center;font-weight: bold;" *ngIf="loading">
                                        <div class="text-center">
                                        <div class="order-loader" ></div> 
                                        <span>Loading Order(s)...</span>
                                    </div>   
                                    </td>                                      
                                </tr>
                            </tbody>
                        </table>
            </div>
        </div>

        <div class="row" style="margin-right: -20% !important; margin-left: -5px !important;height: 300px">
            <div class="col-md-6">
                        <span class="awaitingApproval-barge">{{awaitingFinalApprovalOrders.length}}</span>
                        <span class="awaitingApproval-bargeHeader">Awaiting Final Approval</span>
                        <table class="table table-striped  table-scroll">
                            <thead>
                                <tr class="awaitingApproval-heading">
                                    <th>Order #</th>
                                    <th>Cost/ Quantity</th>
                                    <th>Date</th>
                                    <th>Delivery Method</th>
                                    <th>Payment Method</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let order of awaitingFinalApprovalOrders' style="font-size: 12px;">
                                    <td></td>
                                    <td><b>{{order.cost | currency:'ZAR':true}} </b>&nbsp; ({{order.quantity}})</td>
                                    <td>{{order.createdDate}}</td>
                                    <td class="text-overflow">{{order.deliveryMethod}}</td>
                                    <td>{{order.paymentMethod}}</td>
                                </tr>
                                 <tr *ngIf='awaitingFinalApprovalOrders.length == 0'>
                                    <td style="text-align: center;" *ngIf="!loading">No Awaiting Final Approvel Order(s)</td>     
                                       <td style="text-align: center;font-weight: bold;" *ngIf="loading">
                                        <div class="text-center">
                                        <div class="order-loader" ></div> 
                                        <span>Loading Order(s)...</span>
                                    </div>   
                                    </td>                                     
                                </tr>
                            </tbody>
                        </table>
            </div>
            <div class="col-md-6">
                        <span class="approval-barge">{{approvedOrders.length}}</span>
                        <span class="approval-bargeHeader">Approved</span>
                        <table class="table table-striped table-scroll">
                            <thead>
                                <tr class="approval-heading">
                                    <th>Order #</th>
                                    <th>Quantity/ Price</th>
                                    <th>Date</th>
                                    <th>Delivery Method</th>
                                    <th>Payment Method</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor='let order of approvedOrders' style="font-size: 12px;">
                                    <td></td>
                                    <td><b>{{order.quantity}} </b>&nbsp;{{order.cost | currency:'ZAR':true}} </td>
                                    <td>{{order.createdDate}}</td>
                                    <td class="text-overflow">{{order.deliveryMethod}}</td>
                                    <td>{{order.paymentMethod}}</td>
                                </tr>
                                <tr *ngIf='approvedOrders.length == 0'>
                                     <td style="text-align: center;" *ngIf="!loading">No Approved Order(s)</td>     
                                       <td style="text-align: center;font-weight: bold;" *ngIf="loading">
                                        <div class="text-center">
                                        <div class="order-loader" ></div> 
                                        <span>Loading Order(s)...</span>
                                    </div>   
                                    </td>                                    
                                </tr>
                            </tbody>
                        </table>
            </div>
        </div>
   
</div>